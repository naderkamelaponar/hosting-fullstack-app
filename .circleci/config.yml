  version: 2.1
  orbs:
    # orgs contain basc recipes and reproducible actions (install node, aws, etc.)
    node: circleci/node@5.0.2
    # different jobs are calles later in the workflows sections
  jobs:
    build:
      docker:
        # the base image can run most needed actions with orbs
        - image: "cimg/base:stable"
      steps:
        - checkout
        - node/install:
            install-yarn: true
        # install dependencies in both apps
        - run:
            name: First
            command: |
              echo "بسم الله الرحمن الرحيم"
        # BACK END INSTALLATION
        - run: 
            name: Back-End Install
            command: |
              npm run backend:install
        # BACK END build
        - run: 
            name: Back-End BUILD
            command: |
              npm run backend:build
        # FRONT END INSTALLATION
        - run: 
            name: Front-End Install
            command: |
              npm run frontend:install
        # FRONT END BUILD
        - run: 
            name: Front-End BUILD
            command: |
              npm run frontend:build
        